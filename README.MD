# COVID-19 Situation Change Script

The script reads COVID-19 statistics from [ECDC](https://www.ecdc.europa.eu/en/geographical-distribution-2019-ncov-cases) and shows changes in 14-day rate of infection cases and deaths per 100K population. The highest infection rate countries are on the top.

### Requirements

The script requires **Python 3.9** and extra module `requests`. The following command can be used to install the module:

```
pip3 install requests
```

### Parameters

By default changes for the latest available week is shown. Different time period can be set by `--from` and `--to` command line options. Values for both options are a year and a week of the year like `2020-32` for 32th week of year 2020. If `--to` option is not set, the latest available week is used. If `--from` option is not set, the previous week for `--to` option is used.

List of countries is taken from `countries` section of `covid.conf` file in the current folder. [ISO 3166-1 alpha-3](https://en.wikipedia.org/wiki/ISO_3166-1_alpha-3) country codes are used as keys. If just country code is provided, then the corresponding country name in English is taken from ECDC data. If a value is also provided for a country code, then the value is used as the country name.

Alternative configuration file can be provided with `-c` command line option. If there is no default configuration file or if configuration file is disabled by `-c -` options, then full list of countries is shown.

CSV data file from ECDC can be saved with help of `-s` command line option. Later this file can be used with `-f` option instead of downloading data from ECDC.

### Color Legend

The following table shows meaning of different color for 14-day rate of infection cases and deaths per 100K population:

|    |    cases    |     deaths    |
| -- | :---------: | :-----------: |
| ðŸŸ¢ |        â‰¤60  |         â‰¤1.0  |
| ðŸŸ¡ |  60< â€¦ â‰¤120 |  1.0< â€¦ â‰¤2.0  |
| ðŸŸ  | 120< â€¦ â‰¤240 |  2.0< â€¦ â‰¤4.0  |
| ðŸ”´ | 240< â€¦ â‰¤480 |  4.0< â€¦ â‰¤8.0  |
| ðŸŸ£ | 480< â€¦ â‰¤960 |  8.0< â€¦ â‰¤16.0 |
| ðŸ”µ | 960<        | 16.0<         |

### Examples

Example configuration file:

```ini
[countries]
AUS
CAN
GBR = Great Britain
NZL
USA = Great America
```

The simplest usage of the script showing change between the last two weeks:

```bash
./covid.py
```

And the example output using the example configuration above:

```
from week 2021-06 to week 2021-07
415âžš531ðŸŸ£ 13.0âžš14.4ðŸŸ£ Great America
325âž˜229ðŸŸ  16.2âž˜11.4ðŸŸ£ Great Britain
115âž˜110ðŸŸ¡ 3.1âž˜2.4ðŸŸ  Canada
1âž™1ðŸŸ¢ 0.0âž™0.0ðŸŸ¢ New Zealand
0âž™0ðŸŸ¢ 0.0âž™0.0ðŸŸ¢ Australia
```

Example of the script usage to show difference betweeb week 52 of year 2020 and the first week of year 2021:

```
./covid.py --from 2020-52 --to 2021-01
```

And the resulting output:

```
from week 2020-52 to week 2021-01
706âžš1â€™091ðŸ”µ 10.2âžš15.2ðŸŸ£ Great Britain
875âžš988ðŸ”µ 10.3âžš12.4ðŸŸ£ Great America
242âžš308ðŸ”´ 4.1âžš5.6ðŸ”´ Canada
1âžš2ðŸŸ¢ 0.0âž™0.0ðŸŸ¢ New Zealand
1âž™1ðŸŸ¢ 0.0âž™0.0ðŸŸ¢ Australia
```

To save the current COVID-19 situation statistics from ECDC to file `covid.csv`:

```
./covid.py -s covid.csv
```

And to use the saved data file `covid.csv` to show all countries:

```
./covid.py -f covid.csv -c -
```

Command line option `-c -` disables usage of configuration file.

Here is the top lines of the resulting output:

```
from week 2021-06 to week 2021-07
968âžš1â€™120ðŸ”µ 17.4âžš18.7ðŸ”µ Czechia
1168âž˜1â€™088ðŸ”µ 13.7âžš18.0ðŸ”µ Montenegro
848âžš972ðŸ”µ 14.5âž˜8.7ðŸŸ£ San Marino
699âžš903ðŸŸ£ 3.1âž™3.1ðŸŸ  Seychelles
956âž˜863ðŸŸ£ 10.3âžš12.9ðŸŸ£ Turks and Caicos Islands
```
